<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="856px" preserveAspectRatio="none" style="width:1385px;height:856px;" version="1.1" viewBox="0 0 1385 856" width="1385px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ae73elfgdawr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="306" x="533" y="19.2419">CAIT (Capturing AST-Included Trees)</text><!--MD5=[130ca2019c9c9a3d4acd07200dcb892e]
class CAIT--><rect codeLine="6" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="171.8551" id="CAIT" style="stroke:#A80036;stroke-width:1.5;" width="353" x="7" y="31.5158"/><ellipse cx="165.75" cy="47.5158" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M165.2188,54.4377 Q163.4688,54.4377 162.3281,53.7033 Q161.2031,52.9533 160.6406,51.6096 Q160.0938,50.2502 160.0938,48.4533 Q160.0938,46.4221 160.75,44.969 Q161.4063,43.5158 162.6875,42.7346 Q163.9688,41.9533 165.8438,41.9533 Q166.7344,41.9533 167.4063,42.1408 Q168.0781,42.3127 168.7656,42.6565 L167.9531,44.6721 Q167.3281,44.3596 166.7813,44.2346 Q166.25,44.1096 165.7656,44.1096 Q164.5938,44.1096 163.8906,44.6408 Q163.1875,45.1721 162.8906,46.1252 Q162.5938,47.0783 162.5938,48.344 Q162.5938,50.3596 163.3125,51.3283 Q164.0313,52.2815 165.625,52.2815 Q166.2188,52.2815 166.8438,52.1252 Q167.4688,51.969 168.2969,51.594 L168.2969,53.8127 Q167.5625,54.1252 166.7656,54.2815 Q165.9844,54.4377 165.2188,54.4377 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="186.25" y="52.1719">CAIT</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="359" y1="63.5158" y2="63.5158"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="279" x="13" y="79.2748">Instructor-facing wrapper for internal CAIT methods.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="247" x="13" y="94.2566">Defers most of its functionality to TreeMatcher.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="341" x="13" y="109.2385">Also contains methods for parsing Strings into JavaParser Nodes.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="359" y1="116.4615" y2="116.4615"/><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="359" y1="118.4615" y2="118.4615"/><ellipse cx="18" cy="146.4434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="27" y="151.2023">parseFile(fileText: String) -&gt; Node</text><ellipse cx="18" cy="161.4253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="27" y="166.1842">parseFile(filePath: Path) -&gt; Node</text><ellipse cx="18" cy="176.4072" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="27" y="181.1661">parseSource(source: String) -&gt; Node</text><ellipse cx="18" cy="191.3891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="300" x="27" y="196.148">findMatches(pattern: String, source: String) -&gt; List&lt;Node&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="8" x2="145" y1="131.9525" y2="131.9525"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="145" y="135.7204">Static methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="222" x2="359" y1="131.9525" y2="131.9525"/><!--MD5=[96708a592a11d570158cc32f62eaf9cb]
class TreeMatcher--><rect codeLine="18" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="141.8913" id="TreeMatcher" style="stroke:#A80036;stroke-width:1.5;" width="378" x="420" y="46.4958"/><ellipse cx="568.25" cy="62.4958" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M567.7188,69.4177 Q565.9688,69.4177 564.8281,68.6833 Q563.7031,67.9333 563.1406,66.5896 Q562.5938,65.2302 562.5938,63.4333 Q562.5938,61.4021 563.25,59.949 Q563.9063,58.4958 565.1875,57.7146 Q566.4688,56.9333 568.3438,56.9333 Q569.2344,56.9333 569.9063,57.1208 Q570.5781,57.2927 571.2656,57.6365 L570.4531,59.6521 Q569.8281,59.3396 569.2813,59.2146 Q568.75,59.0896 568.2656,59.0896 Q567.0938,59.0896 566.3906,59.6208 Q565.6875,60.1521 565.3906,61.1052 Q565.0938,62.0583 565.0938,63.324 Q565.0938,65.3396 565.8125,66.3083 Q566.5313,67.2615 568.125,67.2615 Q568.7188,67.2615 569.3438,67.1052 Q569.9688,66.949 570.7969,66.574 L570.7969,68.7927 Q570.0625,69.1052 569.2656,69.2615 Q568.4844,69.4177 567.7188,69.4177 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="588.75" y="67.1519">TreeMatcher</text><line style="stroke:#A80036;stroke-width:1.5;" x1="421" x2="797" y1="78.4958" y2="78.4958"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="426" y="94.2548">Drives the AST matching algorithm.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="366" x="426" y="109.2366">Can shallow match (attributes only) or deep match (recursive descent).</text><line style="stroke:#A80036;stroke-width:1.0;" x1="421" x2="797" y1="116.4596" y2="116.4596"/><line style="stroke:#A80036;stroke-width:1.0;" x1="421" x2="797" y1="118.4596" y2="118.4596"/><ellipse cx="431" cy="146.4415" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="288" x="440" y="151.2004">findMatches(node1: Node, node2: Node) -&gt; List&lt;Match&gt;</text><ellipse cx="431" cy="161.4234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="277" x="440" y="166.1823">shallowMatch(node1: Node, node2: Node) -&gt; boolean</text><ellipse cx="431" cy="176.4053" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="282" x="440" y="181.1642">deepMatch(node1: Node, node2: Node) -&gt; List&lt;Match&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="421" x2="586" y1="131.9506" y2="131.9506"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="586" y="135.7185">Methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="632" x2="797" y1="131.9506" y2="131.9506"/><!--MD5=[5f0899136ed8f523b18ed05779c24112]
class Match--><rect codeLine="28" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="126.9094" id="Match" style="stroke:#A80036;stroke-width:1.5;" width="400" x="914.5" y="53.9858"/><ellipse cx="1092.75" cy="69.9858" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1092.2188,76.9077 Q1090.4688,76.9077 1089.3281,76.1733 Q1088.2031,75.4233 1087.6406,74.0796 Q1087.0938,72.7202 1087.0938,70.9233 Q1087.0938,68.8921 1087.75,67.439 Q1088.4063,65.9858 1089.6875,65.2046 Q1090.9688,64.4233 1092.8438,64.4233 Q1093.7344,64.4233 1094.4063,64.6108 Q1095.0781,64.7827 1095.7656,65.1265 L1094.9531,67.1421 Q1094.3281,66.8296 1093.7813,66.7046 Q1093.25,66.5796 1092.7656,66.5796 Q1091.5938,66.5796 1090.8906,67.1108 Q1090.1875,67.6421 1089.8906,68.5952 Q1089.5938,69.5483 1089.5938,70.814 Q1089.5938,72.8296 1090.3125,73.7983 Q1091.0313,74.7515 1092.625,74.7515 Q1093.2188,74.7515 1093.8438,74.5952 Q1094.4688,74.439 1095.2969,74.064 L1095.2969,76.2827 Q1094.5625,76.5952 1093.7656,76.7515 Q1092.9844,76.9077 1092.2188,76.9077 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="1113.25" y="74.6419">Match</text><line style="stroke:#A80036;stroke-width:1.5;" x1="915.5" x2="1313.5" y1="85.9858" y2="85.9858"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="388" x="920.5" y="101.7448">Represents one possible mapping of the pattern node to the source node.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="915.5" x2="1313.5" y1="108.9677" y2="108.9677"/><line style="stroke:#A80036;stroke-width:1.0;" x1="915.5" x2="1313.5" y1="110.9677" y2="110.9677"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="922.5" y="135.9496"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="934.5" y="143.7085">studentNode: Node</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="922.5" y="150.9315"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="934.5" y="158.6904">instructorNode: Node</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="922.5" y="165.9134"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="934.5" y="173.6723">symbolTable: SymbolTable</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="915.5" x2="1099.5" y1="124.4587" y2="124.4587"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="1099.5" y="128.2266">Fields</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1129.5" x2="1313.5" y1="124.4587" y2="124.4587"/><!--MD5=[6585dc51e3fc1f40fb4eab6b6c55514c]
class SymbolTable--><rect codeLine="37" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="190.837" id="SymbolTable" style="stroke:#A80036;stroke-width:1.5;" width="343" x="437.5" y="223.0258"/><ellipse cx="568.75" cy="239.0258" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M568.2188,245.9477 Q566.4688,245.9477 565.3281,245.2133 Q564.2031,244.4633 563.6406,243.1196 Q563.0938,241.7602 563.0938,239.9633 Q563.0938,237.9321 563.75,236.479 Q564.4063,235.0258 565.6875,234.2446 Q566.9688,233.4633 568.8438,233.4633 Q569.7344,233.4633 570.4063,233.6508 Q571.0781,233.8227 571.7656,234.1665 L570.9531,236.1821 Q570.3281,235.8696 569.7813,235.7446 Q569.25,235.6196 568.7656,235.6196 Q567.5938,235.6196 566.8906,236.1508 Q566.1875,236.6821 565.8906,237.6352 Q565.5938,238.5883 565.5938,239.854 Q565.5938,241.8696 566.3125,242.8383 Q567.0313,243.7915 568.625,243.7915 Q569.2188,243.7915 569.8438,243.6352 Q570.4688,243.479 571.2969,243.104 L571.2969,245.3227 Q570.5625,245.6352 569.7656,245.7915 Q568.9844,245.9477 568.2188,245.9477 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="589.25" y="243.6819">SymbolTable</text><line style="stroke:#A80036;stroke-width:1.5;" x1="438.5" x2="779.5" y1="255.0258" y2="255.0258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="331" x="443.5" y="270.7848">Holds all potential mappings of pattern nodes to source nodes.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="438.5" x2="779.5" y1="278.0077" y2="278.0077"/><line style="stroke:#A80036;stroke-width:1.0;" x1="438.5" x2="779.5" y1="280.0077" y2="280.0077"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="445.5" y="304.9896"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="457.5" y="312.7485">table: Map&lt;Symbol, Symbol&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="438.5" x2="594" y1="293.4987" y2="293.4987"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="594" y="297.2666">Fields</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="624" x2="779.5" y1="293.4987" y2="293.4987"/><ellipse cx="448.5" cy="341.9534" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="225" x="457.5" y="346.7123">merge(other: SymbolTable) -&gt; SymbolTable</text><ellipse cx="448.5" cy="356.9353" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="457.5" y="361.6942">addSymbol(key: String, value: Symbol) -&gt; void</text><ellipse cx="448.5" cy="371.9172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="208" x="457.5" y="376.6761">getSymbolDataType(key: String) -&gt; Type</text><ellipse cx="448.5" cy="386.8991" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="457.5" y="391.658">getSymbolName(key: String) -&gt; SimpleName</text><ellipse cx="448.5" cy="401.8809" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="220" x="457.5" y="406.6399">getSymbolValue(key: String) -&gt; Expression</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="438.5" x2="586" y1="327.4625" y2="327.4625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="586" y="331.2304">Methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="632" x2="779.5" y1="327.4625" y2="327.4625"/><!--MD5=[c8f26355d1fec44ada26e4ba58e9b7f7]
class ScopedSymbolTable--><rect codeLine="50" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="160.8732" id="ScopedSymbolTable" style="stroke:#A80036;stroke-width:1.5;" width="284" x="972.5" y="216.0058"/><ellipse cx="1053.75" cy="232.0058" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1053.2188,238.9277 Q1051.4688,238.9277 1050.3281,238.1933 Q1049.2031,237.4433 1048.6406,236.0996 Q1048.0938,234.7402 1048.0938,232.9433 Q1048.0938,230.9121 1048.75,229.459 Q1049.4063,228.0058 1050.6875,227.2246 Q1051.9688,226.4433 1053.8438,226.4433 Q1054.7344,226.4433 1055.4063,226.6308 Q1056.0781,226.8027 1056.7656,227.1465 L1055.9531,229.1621 Q1055.3281,228.8496 1054.7813,228.7246 Q1054.25,228.5996 1053.7656,228.5996 Q1052.5938,228.5996 1051.8906,229.1308 Q1051.1875,229.6621 1050.8906,230.6152 Q1050.5938,231.5683 1050.5938,232.834 Q1050.5938,234.8496 1051.3125,235.8183 Q1052.0313,236.7715 1053.625,236.7715 Q1054.2188,236.7715 1054.8438,236.6152 Q1055.4688,236.459 1056.2969,236.084 L1056.2969,238.3027 Q1055.5625,238.6152 1054.7656,238.7715 Q1053.9844,238.9277 1053.2188,238.9277 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113" x="1074.25" y="236.6619">ScopedSymbolTable</text><line style="stroke:#A80036;stroke-width:1.5;" x1="973.5" x2="1255.5" y1="248.0058" y2="248.0058"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="978.5" y="263.7648">Additionally tracks scope of nodes.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="973.5" x2="1255.5" y1="270.9877" y2="270.9877"/><line style="stroke:#A80036;stroke-width:1.0;" x1="973.5" x2="1255.5" y1="272.9877" y2="272.9877"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="980.5" y="297.9696"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="992.5" y="305.7285">scopes: Map&lt;String, SymbolTable&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="973.5" x2="1099.5" y1="286.4787" y2="286.4787"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="1099.5" y="290.2466">Fields</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1129.5" x2="1255.5" y1="286.4787" y2="286.4787"/><ellipse cx="983.5" cy="334.9334" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="992.5" y="339.6923">addScope(scopeName: String) -&gt; void</text><ellipse cx="983.5" cy="349.9153" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="235" x="992.5" y="354.6742">getScope(scopeName: String) -&gt; SymbolTable</text><ellipse cx="983.5" cy="364.8972" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="992.5" y="369.6561">lookup(key: String, scopeName: String) -&gt; Symbol</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="973.5" x2="1091.5" y1="320.4425" y2="320.4425"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1091.5" y="324.2104">Methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1137.5" x2="1255.5" y1="320.4425" y2="320.4425"/><!--MD5=[4652c25024297e39a6a41a22817443d8]
class InstructorSymbolTable--><rect codeLine="61" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="175.8551" id="InstructorSymbolTable" style="stroke:#A80036;stroke-width:1.5;" width="513" x="858" y="411.5158"/><ellipse cx="1046.75" cy="427.5158" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1046.2188,434.4377 Q1044.4688,434.4377 1043.3281,433.7033 Q1042.2031,432.9533 1041.6406,431.6096 Q1041.0938,430.2502 1041.0938,428.4533 Q1041.0938,426.4221 1041.75,424.969 Q1042.4063,423.5158 1043.6875,422.7346 Q1044.9688,421.9533 1046.8438,421.9533 Q1047.7344,421.9533 1048.4063,422.1408 Q1049.0781,422.3127 1049.7656,422.6565 L1048.9531,424.6721 Q1048.3281,424.3596 1047.7813,424.2346 Q1047.25,424.1096 1046.7656,424.1096 Q1045.5938,424.1096 1044.8906,424.6408 Q1044.1875,425.1721 1043.8906,426.1252 Q1043.5938,427.0783 1043.5938,428.344 Q1043.5938,430.3596 1044.3125,431.3283 Q1045.0313,432.2815 1046.625,432.2815 Q1047.2188,432.2815 1047.8438,432.1252 Q1048.4688,431.969 1049.2969,431.594 L1049.2969,433.8127 Q1048.5625,434.1252 1047.7656,434.2815 Q1046.9844,434.4377 1046.2188,434.4377 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="1067.25" y="432.1719">InstructorSymbolTable</text><line style="stroke:#A80036;stroke-width:1.5;" x1="859" x2="1370" y1="443.5158" y2="443.5158"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="864" y="459.2748">Adds many-to-one mapping utilities.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="859" x2="1370" y1="466.4977" y2="466.4977"/><line style="stroke:#A80036;stroke-width:1.0;" x1="859" x2="1370" y1="468.4977" y2="468.4977"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="866" y="493.4796"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="344" x="878" y="501.2385">instructorToStudentMapping: Map&lt;String, Map&lt;String, Symbol&gt;&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="859" x2="1099.5" y1="481.9887" y2="481.9887"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="1099.5" y="485.7566">Fields</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1129.5" x2="1370" y1="481.9887" y2="481.9887"/><ellipse cx="869" cy="530.4434" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="487" x="878" y="535.2023">addStudentSymbol(instructorKey: String, studentKey: String, studentSymbol: Symbol) -&gt; void</text><ellipse cx="869" cy="545.4253" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="390" x="878" y="550.1842">lookupStudentSymbol(instructorKey: String, studentKey: String) -&gt; Symbol</text><ellipse cx="869" cy="560.4072" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="315" x="878" y="565.1661">mergeInstructorTable(other: InstructorSymbolTable) -&gt; void</text><ellipse cx="869" cy="575.3891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="335" x="878" y="580.148">hasConflict(instructorKey: String, studentKey: String) -&gt; boolean</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="859" x2="1091.5" y1="515.9525" y2="515.9525"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1091.5" y="519.7204">Methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1137.5" x2="1370" y1="515.9525" y2="515.9525"/><!--MD5=[9ca48261ea57514906883625ea0cbf93]
class Symbol--><rect codeLine="73" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="190.837" id="Symbol" style="stroke:#A80036;stroke-width:1.5;" width="340" x="439" y="543.0258"/><ellipse cx="584.25" cy="559.0258" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M583.7188,565.9477 Q581.9688,565.9477 580.8281,565.2133 Q579.7031,564.4633 579.1406,563.1196 Q578.5938,561.7602 578.5938,559.9633 Q578.5938,557.9321 579.25,556.479 Q579.9063,555.0258 581.1875,554.2446 Q582.4688,553.4633 584.3438,553.4633 Q585.2344,553.4633 585.9063,553.6508 Q586.5781,553.8227 587.2656,554.1665 L586.4531,556.1821 Q585.8281,555.8696 585.2813,555.7446 Q584.75,555.6196 584.2656,555.6196 Q583.0938,555.6196 582.3906,556.1508 Q581.6875,556.6821 581.3906,557.6352 Q581.0938,558.5883 581.0938,559.854 Q581.0938,561.8696 581.8125,562.8383 Q582.5313,563.7915 584.125,563.7915 Q584.7188,563.7915 585.3438,563.6352 Q585.9688,563.479 586.7969,563.104 L586.7969,565.3227 Q586.0625,565.6352 585.2656,565.7915 Q584.4844,565.9477 583.7188,565.9477 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="604.75" y="563.6819">Symbol</text><line style="stroke:#A80036;stroke-width:1.5;" x1="440" x2="778" y1="575.0258" y2="575.0258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="328" x="445" y="590.7848">Represents a single Java symbol, such as an identifier or literal.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="440" x2="778" y1="598.0077" y2="598.0077"/><line style="stroke:#A80036;stroke-width:1.0;" x1="440" x2="778" y1="600.0077" y2="600.0077"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="447" y="624.9896"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="459" y="632.7485">name: SimpleName</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="447" y="639.9715"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="459" y="647.7304">dataType: Type</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="447" y="654.9534"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="459" y="662.7123">value: Expression</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="447" y="669.9353"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="459" y="677.6942">identifierType: IdentifierType</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="440" x2="594" y1="613.4987" y2="613.4987"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="594" y="617.2666">Fields</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="624" x2="778" y1="613.4987" y2="613.4987"/><ellipse cx="450" cy="706.8991" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="459" y="711.658">Symbol(sourceNode: Node)</text><ellipse cx="450" cy="721.8809" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="459" y="726.6399">match(other: Symbol): boolean</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="440" x2="586" y1="692.4081" y2="692.4081"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="586" y="696.1761">Methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="632" x2="778" y1="692.4081" y2="692.4081"/><!--MD5=[a6da717249a907f03f0e92554f6403c2]
class IdentifierType--><rect codeLine="86" fill="#FEFECE" filter="url(#f1ae73elfgdawr)" height="220.8008" id="IdentifierType" style="stroke:#A80036;stroke-width:1.5;" width="314" x="957.5" y="622.0458"/><ellipse cx="1071.25" cy="638.0458" fill="#EB937F" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1067.6094,644.5458 L1067.6094,632.4052 L1075.2656,632.4052 L1075.2656,634.5302 L1069.9844,634.5302 L1069.9844,637.1865 L1075,637.1865 L1075,639.3115 L1069.9844,639.3115 L1069.9844,642.4208 L1075.2656,642.4208 L1075.2656,644.5458 L1067.6094,644.5458 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="1091.75" y="642.7019">IdentifierType</text><line style="stroke:#A80036;stroke-width:1.5;" x1="958.5" x2="1270.5" y1="654.0458" y2="654.0458"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="302" x="963.5" y="669.8048">Represents the possible patterns usable by the instructor.</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="212" x="963.5" y="684.7866">Wrap in single underscores for SYMBOL,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="239" x="963.5" y="699.7685">Wrap in double underscores for EXPRESSION,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="963.5" y="714.7504">Triple underscore for WILD_CARD</text><line style="stroke:#A80036;stroke-width:1.0;" x1="958.5" x2="1270.5" y1="721.9734" y2="721.9734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="958.5" x2="1270.5" y1="723.9734" y2="723.9734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="963.5" y="756.7142">NONE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="963.5" y="771.6961">SYMBOL</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="963.5" y="786.678">EXPRESSION</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="963.5" y="801.6599">WILD_CARD</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="958.5" x2="1097.5" y1="737.4643" y2="737.4643"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="34" x="1097.5" y="741.2323">Values</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1131.5" x2="1270.5" y1="737.4643" y2="737.4643"/><ellipse cx="968.5" cy="830.8647" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="201" x="977.5" y="835.6236">identify(lexeme: String): IdentifierType</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="958.5" x2="1076" y1="816.3738" y2="816.3738"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="1076" y="820.1417">Static methods</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="1153" x2="1270.5" y1="816.3738" y2="816.3738"/><!--MD5=[6aa0deb38c51c595bc44b567b04dd26f]
reverse link SymbolTable to ScopedSymbolTable--><path d="M802.25,310.0458 C858.79,307.5758 919.58,304.9158 972.3,302.6158 " fill="none" id="SymbolTable-backto-ScopedSymbolTable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="802.61,317.0358,782.33,310.9158,802,303.0458,802.61,317.0358" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b9d03fe3f8cb8148d770742450f9b6c0]
reverse link SymbolTable to InstructorSymbolTable--><path d="M801.02,387.1158 C822.79,394.9358 845.19,402.9958 867.53,411.0258 " fill="none" id="SymbolTable-backto-InstructorSymbolTable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="798.69,393.7158,782.24,380.3658,803.43,380.5358,798.69,393.7158" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a7f6bd22f7ddf3a58fd61dbaaa373dfe]
link CAIT to TreeMatcher--><path codeLine="101" d="M360.42,117.4458 C377.83,117.4458 395.57,117.4458 413.15,117.4458 " fill="none" id="CAIT-to-TreeMatcher" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="418.11,117.4458,409.11,113.4458,413.11,117.4458,409.11,121.4458,418.11,117.4458" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6ab05d119e0017f6582309bc05c16074]
link TreeMatcher to Match--><path codeLine="102" d="M798.2,117.4458 C833.98,117.4458 871.59,117.4458 907.88,117.4458 " fill="none" id="TreeMatcher-to-Match" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="912.65,117.4458,903.65,113.4458,907.65,117.4458,903.65,121.4458,912.65,117.4458" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b5a1859a257e1a93b9a7732dc164aa8f]
link TreeMatcher to SymbolTable--><path codeLine="103" d="M609,188.5458 C609,197.7858 609,207.0258 609,216.2558 " fill="none" id="TreeMatcher-to-SymbolTable" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="609,221.1458,613,212.1458,609,216.1458,605,212.1458,609,221.1458" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f7ea2563c88915633cf735fbc09a795e]
link SymbolTable to Match--><path codeLine="104" d="M780.67,231.9258 C806.32,220.0658 832.67,208.5258 858,198.4458 C874.22,191.9858 891.17,185.6858 908.29,179.6358 " fill="none" id="SymbolTable-to-Match" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="912.67,178.0858,902.8528,177.2968,907.9529,179.744,905.5058,184.8441,912.67,178.0858" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3bcd6df41cabe3222d6ea1e3f0b9e618]
link SymbolTable to Symbol--><path codeLine="105" d="M609,413.9758 C609,454.8258 609,495.6758 609,536.5258 " fill="none" id="SymbolTable-to-Symbol" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="609,541.3058,613,532.3058,609,536.3058,605,532.3058,609,541.3058" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fe16bb87990b7f7c958a296f488c665d]
link Symbol to IdentifierType--><path codeLine="106" d="M779.41,670.0758 C834.82,680.4158 896.21,691.8758 951.09,702.1258 " fill="none" id="Symbol-to-IdentifierType" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="955.92,703.0258,947.8035,697.4472,951.0043,702.1113,946.3402,705.3122,955.92,703.0258" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2883ed30827c938fddffd59396ec130c]
@startuml CAIT

title "CAIT (Capturing AST-Included Trees)"

left to right direction

class CAIT {
    Instructor-facing wrapper for internal CAIT methods.
    Defers most of its functionality to TreeMatcher.
    Also contains methods for parsing Strings into JavaParser Nodes.
    ==
    .. Static methods ..
    + parseFile(fileText: String) -> Node
    + parseFile(filePath: Path) -> Node
    + parseSource(source: String) -> Node
    + findMatches(pattern: String, source: String) -> List<Node>
}

class TreeMatcher {
    Drives the AST matching algorithm.
    Can shallow match (attributes only) or deep match (recursive descent).
    ==
    .. Methods ..
    + findMatches(node1: Node, node2: Node) -> List<Match>
    + shallowMatch(node1: Node, node2: Node) -> boolean
    + deepMatch(node1: Node, node2: Node) -> List<Match>
}

class Match {
    Represents one possible mapping of the pattern node to the source node.
    ==
    .. Fields ..
    - studentNode: Node
    - instructorNode: Node
    - symbolTable: SymbolTable
}

class SymbolTable {
    Holds all potential mappings of pattern nodes to source nodes.
    ==
    .. Fields ..
    - table: Map<Symbol, Symbol>
    .. Methods ..
    + merge(other: SymbolTable) -> SymbolTable
    + addSymbol(key: String, value: Symbol) -> void
    + getSymbolDataType(key: String) -> Type
    + getSymbolName(key: String) -> SimpleName
    + getSymbolValue(key: String) -> Expression
}

class ScopedSymbolTable extends SymbolTable {
    Additionally tracks scope of nodes.
    ==
    .. Fields ..
    - scopes: Map<String, SymbolTable>
    .. Methods ..
    + addScope(scopeName: String) -> void
    + getScope(scopeName: String) -> SymbolTable
    + lookup(key: String, scopeName: String) -> Symbol
}

class InstructorSymbolTable extends SymbolTable {
    Adds many-to-one mapping utilities.
    ==
    .. Fields ..
    - instructorToStudentMapping: Map<String, Map<String, Symbol>>
    .. Methods ..
    + addStudentSymbol(instructorKey: String, studentKey: String, studentSymbol: Symbol) -> void
    + lookupStudentSymbol(instructorKey: String, studentKey: String) -> Symbol
    + mergeInstructorTable(other: InstructorSymbolTable) -> void
    + hasConflict(instructorKey: String, studentKey: String) -> boolean
}

class Symbol {
    Represents a single Java symbol, such as an identifier or literal.
    ==
    .. Fields ..
    - name: SimpleName
    - dataType: Type
    - value: Expression
    - identifierType: IdentifierType
    .. Methods ..
    + Symbol(sourceNode: Node)
    + match(other: Symbol): boolean
}

enum IdentifierType {
    Represents the possible patterns usable by the instructor.
    Wrap in single underscores for SYMBOL,
    Wrap in double underscores for EXPRESSION,
    Triple underscore for WILD_CARD
    ==
    .. Values ..
    NONE
    SYMBOL
    EXPRESSION
    WILD_CARD
    .. Static methods ..
    + identify(lexeme: String): IdentifierType
}

CAIT - -> TreeMatcher
TreeMatcher - -> Match
TreeMatcher -> SymbolTable
SymbolTable - -> Match
SymbolTable -> Symbol
Symbol - -> IdentifierType

@enduml

PlantUML version 1.2021.00(Sun Jan 10 05:25:05 EST 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>